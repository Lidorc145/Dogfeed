{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"uri\", \"handleImageUri\", \"user\"];\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React from 'react';\nimport { Box, Actionsheet, Pressable, useDisclose, Avatar, IconButton, Icon } from 'native-base';\nimport { takePhoto, pickImage } from \"../../utils/upload-image\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var ImageUploader = function ImageUploader(_ref) {\n  var _user$firstName, _user$lastName, _user$firstName$, _user$lastName$;\n  var uri = _ref.uri,\n    handleImageUri = _ref.handleImageUri,\n    user = _ref.user,\n    avatarParams = _objectWithoutProperties(_ref, _excluded);\n  var _useDisclose = useDisclose(),\n    isOpen = _useDisclose.isOpen,\n    onOpen = _useDisclose.onOpen,\n    onClose = _useDisclose.onClose;\n  return _jsxs(Box, {\n    alignItems: \"center\",\n    children: [_jsxs(Pressable, {\n      mt: 10,\n      onPress: onOpen,\n      children: [_jsx(Avatar, _objectSpread(_objectSpread({\n        backgroundColor: \"primary.500\",\n        size: \"xl\",\n        source: {\n          uri: uri || undefined\n        }\n      }, avatarParams), {}, {\n        children: (user == null ? void 0 : (_user$firstName = user.firstName) == null ? void 0 : _user$firstName.length) && (user == null ? void 0 : (_user$lastName = user.lastName) == null ? void 0 : _user$lastName.length) && \"\" + (user == null ? void 0 : (_user$firstName$ = user.firstName[0]) == null ? void 0 : _user$firstName$.toUpperCase()) + (user == null ? void 0 : (_user$lastName$ = user.lastName[0]) == null ? void 0 : _user$lastName$.toUpperCase())\n      })), _jsx(IconButton, {\n        position: \"absolute\",\n        alignSelf: \"flex-end\",\n        bottom: 0,\n        onPress: onOpen,\n        p: 1.5,\n        size: \"md\",\n        borderRadius: \"full\",\n        bg: \"background.600:alpha.95\",\n        icon: _jsx(Icon, {\n          color: \"background.200\",\n          as: MaterialIcons,\n          name: \"camera-alt\"\n        })\n      })]\n    }), _jsx(Actionsheet, {\n      isOpen: isOpen,\n      onClose: onClose,\n      children: _jsxs(Actionsheet.Content, {\n        children: [_jsx(Actionsheet.Item, {\n          startIcon: _jsx(Icon, {\n            size: 6,\n            as: MaterialIcons,\n            name: \"linked-camera\"\n          }),\n          onPress: function _callee() {\n            return _regeneratorRuntime.async(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.t0 = handleImageUri;\n                    _context.next = 3;\n                    return _regeneratorRuntime.awrap(takePhoto());\n                  case 3:\n                    _context.t1 = _context.sent;\n                    (0, _context.t0)(_context.t1);\n                    onClose();\n                  case 6:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          },\n          children: \"Take Photo\"\n        }), _jsx(Actionsheet.Item, {\n          startIcon: _jsx(Icon, {\n            size: 6,\n            as: MaterialIcons,\n            name: \"file-upload\"\n          }),\n          onPress: function _callee2() {\n            return _regeneratorRuntime.async(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.t0 = handleImageUri;\n                    _context2.next = 3;\n                    return _regeneratorRuntime.awrap(pickImage());\n                  case 3:\n                    _context2.t1 = _context2.sent;\n                    (0, _context2.t0)(_context2.t1);\n                    onClose();\n                  case 6:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          },\n          children: \"Upload Image\"\n        }), _jsx(Actionsheet.Item, {\n          startIcon: _jsx(Icon, {\n            size: 6,\n            as: MaterialIcons,\n            name: \"cancel\"\n          }),\n          onPress: onClose,\n          children: \"Cancel\"\n        })]\n      })\n    })]\n  });\n};\nImageUploader.defaultProps = {\n  uri: undefined,\n  user: undefined\n};","map":{"version":3,"names":["React","Box","Actionsheet","Pressable","useDisclose","Avatar","IconButton","Icon","takePhoto","pickImage","MaterialIcons","ImageUploader","uri","handleImageUri","user","avatarParams","isOpen","onOpen","onClose","undefined","firstName","length","lastName","toUpperCase","defaultProps"],"sources":["C:/Users/LidorCohen/Desktop/Dogfeel/src/components/image-uploader/index.tsx"],"sourcesContent":["import React from 'react';\nimport { Box, Actionsheet, Pressable, useDisclose, Avatar, IconButton, Icon } from 'native-base';\nimport { takePhoto, pickImage } from 'src/utils/upload-image';\nimport { PrivateUserData } from 'src/types';\nimport { InterfaceAvatarProps } from 'native-base/lib/typescript/components/composites/Avatar/types';\nimport { MaterialIcons } from '@expo/vector-icons';\n\nexport interface ImageArgProps extends InterfaceAvatarProps {\n    uri?: string | null;\n    // setImageState: React.Dispatch<React.SetStateAction<string | undefined>>;\n    handleImageUri: (uri: string | undefined) => void;\n    user?: PrivateUserData;\n}\n\nexport const ImageUploader: React.FC<ImageArgProps> = ({\n    uri,\n    handleImageUri,\n    user,\n    ...avatarParams\n}) => {\n    const { isOpen, onOpen, onClose } = useDisclose();\n\n    return (\n        <Box alignItems=\"center\">\n            <Pressable mt={10} onPress={onOpen}>\n                <Avatar\n                    backgroundColor=\"primary.500\"\n                    size=\"xl\"\n                    source={{\n                        uri: uri || undefined,\n                    }}\n                    {...avatarParams}>\n                    {user?.firstName?.length &&\n                        user?.lastName?.length &&\n                        `${user?.firstName[0]?.toUpperCase()}${user?.lastName[0]?.toUpperCase()}`}\n                </Avatar>\n                <IconButton\n                    position=\"absolute\"\n                    alignSelf=\"flex-end\"\n                    bottom={0}\n                    onPress={onOpen}\n                    p={1.5}\n                    size=\"md\"\n                    borderRadius=\"full\"\n                    bg=\"background.600:alpha.95\"\n                    icon={<Icon color=\"background.200\" as={MaterialIcons} name=\"camera-alt\" />}\n                />\n            </Pressable>\n            <Actionsheet isOpen={isOpen} onClose={onClose}>\n                <Actionsheet.Content>\n                    <Actionsheet.Item\n                        startIcon={<Icon size={6} as={MaterialIcons} name=\"linked-camera\" />}\n                        onPress={async () => {\n                            handleImageUri(await takePhoto());\n                            onClose();\n                        }}>\n                        Take Photo\n                    </Actionsheet.Item>\n                    <Actionsheet.Item\n                        startIcon={<Icon size={6} as={MaterialIcons} name=\"file-upload\" />}\n                        onPress={async () => {\n                            handleImageUri(await pickImage());\n                            onClose();\n                        }}>\n                        Upload Image\n                    </Actionsheet.Item>\n                    <Actionsheet.Item\n                        startIcon={<Icon size={6} as={MaterialIcons} name=\"cancel\" />}\n                        onPress={onClose}>\n                        Cancel\n                    </Actionsheet.Item>\n                </Actionsheet.Content>\n            </Actionsheet>\n        </Box>\n    );\n};\n\nImageUploader.defaultProps = {\n    uri: undefined,\n    user: undefined,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}